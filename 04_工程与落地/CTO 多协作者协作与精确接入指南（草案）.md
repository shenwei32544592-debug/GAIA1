# CTO 多协作者协作与精确接入指南（草案）

**用途**：当 CTO 下属有多个 IT 协作者时，如何全盘协调多任务并行开发，并确保各产出**精确接入联盟**（遵循 GAIA 协议、不破坏母结构、可替换可审计）  
**版本**：草案 v0.1  
**依据**：《GAIA · CTO / PM 架构对齐图》《GAIA IT 供应链准入与 API 隔离标准》《signa-ink-architecture-v1.1》；建国期人事网任务认领制

---

## 一、核心目标

| 目标 | 含义 |
|------|------|
| **多任务并行** | 不同 IT 人员同时开发不同任务，互不阻塞 |
| **精确接入联盟** | 各产出通过**标准化接口**接入 GAIA/signa.ink；遵循架构分层、数据主权、逻辑归联盟 |
| **可替换可审计** | 任一协作者产出均可被替换；核心逻辑可审计、不失控 |

---

## 二、CTO 的四种角色

| 角色 | 职责 | 不职责 |
|------|------|--------|
| **架构定义者** | 定义分层、模块边界、接口契约；产出《接口规范》《数据模型》《接入清单》 | 不替协作者写具体实现 |
| **任务拆分与分配者** | 将建"国"任务清单拆解为可并行、边界清晰的子任务；分配给人；定义交付标准 | 不 micromanage 每日进度 |
| **接口守门人** | 审批所有对外暴露的 API、数据 Schema、事件格式；确保符合联盟标准 | 不审批业务逻辑细节 |
| **集成与审计者** | 负责集成测试、合并；对核心逻辑有源代码审计权 | 不替代协作者做单元测试 |

---

## 三、精确接入的六大约束

协作者产出要「精确接入联盟」，必须满足以下约束（来自《GAIA IT 供应链准入与 API 隔离标准》《架构对齐图》）：

| 约束 | 说明 | 落地方式 |
|------|------|----------|
| **① 接口标准化** | 所有跨模块/跨人协作必须通过**联盟定义的标准化接口** | CTO 出具《接口契约》文档；协作者实现时必须遵循 |
| **② 逻辑归 GAIA** | 业务流程、分配规则、治理逻辑的**定义权与审计权**归联盟 | 分账、RuleID、共识裁定相关逻辑由 CTO 或指定核心人实现；协作者只实现「调用接口」 |
| **③ 数据归 GAIA** | 订单、分润、贡献记录等数据的**所有权与可携权**归联盟 | Schema 由 CTO 定义；协作者不得新增未批准的持久化表 |
| **④ 四红线不破** | 不删覆盖源头署名；不让平台成最终裁决者；不分润变运营策略；不取消共识流程 | 每项任务交付前，CTO 按《红线清单》做合规检查 |
| **⑤ 供应商可替换** | 协作者产出均为「搬砖」；表现不佳可切换 | 模块化设计；接口稳定；无隐性依赖 |
| **⑥ 可审计** | 联盟享有源代码审计权 | 代码入统一仓库；PR 须经 CTO 或指定人 review |

---

## 四、任务拆分与分配原则

### 4.1 按架构层拆分（优先）

| 层 | 可并行任务示例 | 依赖关系 |
|------|----------------|----------|
| **Identity Layer** | Node 注册、Capability Mask、认证 | 其它层依赖本层 |
| **Asset & Truth** | 资产录入、源头锚定、版本冻结 | 依赖 Identity |
| **Consensus & Governance** | 提案、陪审遴选、裁定记录 | 依赖 Identity、Asset |
| **Physical Reality** | 载体映射、责任签署、物流对接 | 依赖 Asset |
| **Atomic Ledger** | 分账指令、分配引擎、流水 | 依赖 Identity、Asset；**CTO 自管或极信任者** |
| **Alliance & Evolution** | 跨平台 ID、Federation API | 依赖前述各层 |

**原则**：下层先于上层；同层内按模块拆分，尽量减少交叉依赖。

### 4.2 按「核心 vs 边缘」拆分（来自 IT 供应链标准）

| 类型 | 谁做 | 示例 |
|------|------|------|
| **Core** | CTO 或 1 名核心协作者 | RuleID、分账逻辑、分配引擎、宪章级数据接口 |
| **Edge** | 其它协作者可并行 | UI/UX、多语言、物流 API、支付对接、CRM、通知 |

**原则**：Core 不外包给不熟悉 GAIA 的人；Edge 可分配，但须通过接口契约接入。

### 4.3 任务包结构（每个任务须包含）

| 要素 | 说明 |
|------|------|
| **任务 ID** | 与建"国"任务清单对应 |
| **交付物** | 代码/配置/文档；可验证的产出 |
| **接口契约** | 输入/输出、Schema、调用方；CTO 事先定义 |
| **依赖** | 依赖哪些其它任务或模块；阻塞关系 |
| **负责人** | 认领人 |
| **验收标准** | 功能清单、性能要求、红线检查 |

---

## 五、协作流程与节奏

### 5.1 任务发布与认领

| 环节 | 操作 |
|------|------|
| **CTO 发布** | 在论坛/看板发布任务包；含接口契约、依赖、验收标准 |
| **协作者认领** | 发帖认领；CTO 确认（类似建国期人事网认领制） |
| **开工前对齐** | 协作者阅读《架构对齐图》《接口契约》；有疑问集中问；CTO 解答 |

### 5.2 开发期协调

| 机制 | 频率 | 内容 |
|------|------|------|
| **接口锁定期** | 任务启动前 | 接口契约冻结；变更须 CTO 审批 |
| **周/双周站会** | 可选 | 阻塞点、依赖变更、接口碰撞 |
| **异步沟通** | 随时 | 论坛/Slack/Discord；技术问题、接口疑问 |
| **共享文档** | 持续 | 架构图、接口文档、Schema、部署说明；所有人可读 |

### 5.3 交付与集成

| 环节 | 操作 |
|------|------|
| **PR 提交** | 协作者完成开发 → 提 PR 至统一仓库 |
| **CTO Review** | 检查：接口是否符合契约、是否触碰红线、有无隐性依赖 |
| **集成** | CTO 或指定人合并；跑集成测试 |
| **部署** | 按约定流程部署；Staging 验证后再 Prod |

---

## 六、接口契约模板（CTO 须事先出具）

每个跨人/跨模块任务，CTO 须提供类似以下的契约（可简化）：

```yaml
# 任务 T-XXX 接口契约
任务: 多语言文案模块
负责人: [认领人]
依赖: 无

## 输入
- 文案 key (string)
- 语言 code (string, zh|en)

## 输出
- 文案内容 (string) 或 404

## 调用方式
- GET /api/v1/i18n/{lang}/{key}

## 数据归属
- 文案表 i18n 归联盟；只读接口，不写分润/身份

## 红线检查
- 不涉及源头署名、不涉及裁定、不涉及分润
```

协作者按此实现；CTO Review 时对表即可。

---

## 七、常见冲突与化解

| 冲突 | 化解 |
|------|------|
| **接口变更** | 契约变更须 CTO 审批；影响多人时须同步 |
| **依赖循环** | 拆分时避免；若出现，CTO 介入重新切分 |
| **多人改同一模块** | 按文件/目录分配；或拆子模块 |
| **交付质量不一** | 验收标准明确；不达标不合并；可指定「技术 Lead」做初筛 |
| **协作者离职/退出** | 代码在联盟仓库；文档齐全；接口稳定→可换人接 |

---

## 八、工具与基础设施

| 工具 | 用途 |
|------|------|
| **代码仓库** | 统一 Git 仓库；分支策略（main 保护；feature 分支） |
| **接口文档** | OpenAPI/Swagger 或 Markdown；与代码同步 |
| **任务看板** | 建"国"任务清单 + 子任务状态；见建国期人事网 |
| **沟通** | 论坛（制度级）+ Slack/Discord（日常技术） |
| **CI/CD** | 自动跑测试、lint；PR 合并前必过 |

---

## 九、与既有文档的衔接

| 文档 | 衔接点 |
|------|--------|
| 《GAIA · CTO / PM 架构对齐图》 | 协作者必读；红线与分层 |
| 《GAIA IT 供应链准入与 API 隔离标准》 | 接口主权、可替换、审计权 |
| 《建国期人事网》 | 任务认领、负责人、完成确认 |
| 《signa-ink-architecture-v1.1》 | signa 具体模块与 Phase |
| 《艺术家与系统需求直连机制》 | 艺术家提需求→IT 回应；协作者可认领 |

---

## 十、总结：精确接入的落地 checklist

协作者产出要「精确接入联盟」，须满足：

1. ✅ 任务来自 CTO 拆解，有清晰边界
2. ✅ 接口契约由 CTO 事先定义，实现时严格遵循
3. ✅ 不触碰 Core（RuleID、分账、裁定）除非 CTO 授权
4. ✅ 数据 Schema 经 CTO 批准
5. ✅ 通过四红线检查
6. ✅ 代码入联盟仓库，PR 经 Review
7. ✅ 文档齐全，可被他人接手

**CTO 的杠杆点**：把精力放在**接口定义、任务拆分、红线审查**上，而非替每个人写代码。

---

*本指南为 CTO 多协作者协作的操作设计草案；与建国期人事网、IT 供应链标准配套使用。*

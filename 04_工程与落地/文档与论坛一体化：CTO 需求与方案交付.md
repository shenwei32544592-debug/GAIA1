# 文档与论坛一体化：CTO 需求与方案交付

**致**：沈炎君（CTO）  
**性质**：Founder 需求表述 + AI 方案建议，供你决策与实现  
**关联**：《文档与论坛一体化方案：制宪档案库设计》《创世贡献记录与确认机制（论坛版）》§3.1

---

## 一、Founder 目的与需求（我的明确表述）

### 1.1 我要达成的目标

我需要把「联盟可公开讨论的全部文档」做成两件事：

1. **单入口浏览**：像现在本地部署的 gaia-manual-website 一样，有统一入口可浏览这些文档。
2. **文档即帖子**：这些文档的内容能自动（或半自动）成为论坛里的帖子，供我和你之间的第一次对齐过程中的沟通工具；支持跟帖讨论；但**文档更新统一由我完成**。

### 1.2 我要求的核心行为

| 要求 | 我的表述 |
|------|----------|
| **讨论载体** | 每份文档在论坛中有一个对应主帖；正文 = 文档内容。 |
| **跟帖讨论** | 你、我、后续加入者都可以在帖子下回复、提问、讨论。 |
| **更新权** | 文档正文只有我更新；讨论区所有人可发言。 |
| **版本留证** | 每次我更新文档后，**变更内容要在帖子中留下记录**，形成可追溯的创世档案。 |
| **言论自由 + 存证** | 发言不被事前审查；所有发言与修改可查、可追溯。这是联盟最核心的 DNA 片段——为后面公开招募英雄贴做准备。 |

### 1.3 我要你解决什么

1. **Phase 1（尽快）**：用现有手段（如 GitHub Discussions）让我和你能开始「文档→帖子→讨论→版本留证」的闭环；文档页要有「在论坛讨论此文」的入口。
2. **Phase 2（论坛搭建后）**：论坛就绪后，实现文档到帖子的同步（脚本或 API），减少我手动维护的工作量。
3. **Phase 3（远期）**：文档为唯一数据源，构建网站 + 同步论坛自动化。

### 1.4 中枢战略定位（为什么论坛如此重要）

我们这儿是**神经中枢**；论坛将来是中枢与全部节点交互的主要方式。全盘数据在中枢，任何节点提出的问题，我们都可以最快给出 Founder 级、有据可查的反馈。**这是建国期让整个生态看到希望的最原始、最重要的一个点**——没有华盛顿式的中心节点，就建不成美国。快速、高质量的中枢回应 = 节点有信心参与 = 建国可成。

---

## 二、AI 给出的解决方案（供你参考与取舍）

以下是 Founder 与 AI 讨论后，AI 整理的方案建议。**你可以采纳、调整或替换**，最终实现由你决定。

### 2.1 系统拓扑（AI 建议）

```
GAIA_System_OS（源 Markdown）
        ↓ build.js
gaia-manual-website（网站 + 每页「讨论此文」链接）
        ↓ doc-forum-mapping.json
GitHub Discussions（Phase 1）或 自建论坛（Phase 2+）
```

### 2.2 Phase 1：GitHub Discussions（AI 建议，立即可用）

| 项目 | AI 建议 |
|------|----------|
| **论坛载体** | 在 signa.ink 仓库启用 Discussions（Settings → Features → Discussions） |
| **Category** | 制宪讨论、协议与规范、技术实现 |
| **文档→帖子** | 每份核心文档开一个 Discussion；主帖 = 文档正文（初期手动粘贴） |
| **版本留证** | Founder 更新文档后，在同一 Discussion 下回复一条 comment，格式见下 |
| **入口** | build.js 已修改：读取 `gaia-manual-website/doc-forum-mapping.json`，为有映射的文档页注入「在 GitHub 讨论此文」链接 |

**版本留证格式（AI 建议）**：

```markdown
---
### 更新记录 2025-02-14

**变更摘要**：第一编基本权利新增通俗解释附录；开篇补充联盟登记确权说明。

**涉及章节**：附录、开篇

---
```

### 2.3 Phase 2：半自动同步（AI 建议，需你实现）

- **触发**：Founder 执行「一键同步」或 `git push` 时，由 post-commit hook 或 GitHub Action 触发。
- **逻辑**：脚本读取变更的 .md → 调用论坛 API：创建/更新主帖；追加「版本变更」区块。
- **前提**：论坛需有 API（Discourse、NodeBB、Supabase 等）。

### 2.4 已有实现（AI 已完成，你可直接使用或修改）

| 文件 | 说明 |
|------|------|
| `gaia-manual-website/doc-forum-mapping.json` | 文档路径 → Discussion URL 映射表；你或 Founder 填入 URL 后，build 会自动注入讨论链接 |
| `gaia-manual-website/build.js` | 已增加：读取映射表，为有映射的文档页底部插入「在 GitHub 讨论此文」 |
| `gaia-manual-website/styles.css` | 已增加 `.doc-forum-link` 样式 |

### 2.5 中枢回应与补充方法（AI 建议）

论坛为主战场；以下方法可增强中枢回应能力与节点信心：

| 方法 | 说明 |
|------|------|
| **FAQ 动态更新** | 论坛中反复出现的问题沉淀进 FAQ；新节点自助，减少重复提问 |
| **分层响应** | 技术类 → CTO；制度/战略/共识类 → Founder；中枢聚焦高杠杆问题 |
| **AI 预答 + Founder 确认** | 常见问题由 AI 据文档起草回复，Founder 审阅后发出；兼顾速度与质量 |
| **透明 backlog** | 帖标注「已读/待回复/已回复」，让节点知道被看见 |
| **优先级队列** | 阻塞建国进度者优先回复；一般讨论批次处理 |
| **Governance Log 引用** | 回复时引用创世档案、协议条款，形成有据可查的权威感 |

**中枢回应原则（建议置顶于讨论区）**：

> 本专区由 Founder 作为制度与战略的核心答疑者；全盘数据在中枢，反馈力求快速、有据、可追溯。您的问题会被看见，回复即创世档案的一部分。

---

## 三、待 CTO 决策与实现

### 3.1 需你执行（Phase 1）

| 事项 | 说明 |
|------|------|
| 启用 Discussions | 在 signa.ink 仓库 Settings → Features 中勾选 Discussions |
| 创建 Category | 制宪讨论、协议与规范、技术实现（名称可调整） |
| 建 Discussion | 为首批核心文档各建一个 Discussion；主帖可先贴文档正文（Founder 可协助提供内容） |
| 填映射表 | 将 Discussion URL 填入 `doc-forum-mapping.json`；或与 Founder 分工 |

### 3.2 需你设计（Phase 2）

| 事项 | 说明 |
|------|------|
| 论坛选型 | 按《有效路径》「论坛优先」，你负责论坛/制度广场；选型时优先考虑带 API、支持 Markdown、可程序化发帖的平台 |
| 同步脚本 | 论坛就绪后，实现「文档变更 → 论坛主帖更新 + 版本留证追加」的自动化或半自动化 |

### 3.3 与 Founder 的协作边界

- **Founder**：更新源 Markdown；在 Discussion 下回复版本留证（Phase 1 手动）；维护 doc-forum-mapping.json 中的 URL（可与 CTO 分工）。
- **CTO**：启用与配置 Discussions；搭建论坛（Phase 2）；实现同步脚本（Phase 2）。

---

## 四、参考资料

- 《文档与论坛一体化方案：制宪档案库设计》— 完整技术设计与分阶段路线
- 《创世贡献记录与确认机制（论坛版）》§3.1 — 建"国"路线图专区、制度广场的约定
- 《有效路径与时间节点安排》— 论坛优先、CTO 分工

---

*本文档由 Founder 发起，AI 协助整理；交付 CTO 作为需求与方案依据，具体实现由 CTO 决策。*
